# Readable Code #

## 何の為か ##
今回、これを書く理由は「夏休みの宿題である」というのはもちろん。  
別に提出しなくても怒られすらしないが。  
自分の為であるということを前提としているから。
しかし、これとは別に今後プロのプログラマーとして働くにはこの知識がとても必要になる。  
なぜなら、下でも記述しているように複数人で開発する現場では必須となるからである。

---

## 優れたコードとは ##
優れているとは物事の程度が他に比べて勝っているさま。他よりもいい評価をするべきと思われる様子。  
つまり、同じ処理のコードでも見た目が違えば受け取り方が違う。  
見やすさや安心感など様々な要素があるが、何がベストなのか。それを追求する。  

## 見やすさ・読みやすさ ##
まず、コードの見やすさ。自分だけが理解できてもダメで実際の開発現場では大人数での開発になる。  
つまり、自分が書いたコードが他人と共有され、その逆もあり他人が書いたコードを自分も見なければいけない。  
そうなった時、どんなコードが相手にとって見やすいか、またはどんなコードを書いてくれれば自分が理解しやすいか。  
これが重要になってくる。  
例えば、三項演算において`is_Reverse ? tu = 0.0f : tu = 1.0f`のようなコードがあった時、とても見やすいと思う。  
だが、理解はしにくい。なぜならこの書き方でなくとも書けるからである。  
```
if(is_Reverse){  
    tu = 0.0f;
}
else{
    tu = 1.0f;
}
```
これでも先ほどの三項演算子を用いた処理と同じ処理になる。  
また、プログラム言語を習い始めて初めのほうで習得できるif文だけで書けているから初心者にとっては理解しやすい。  
私だって、先日までは同じ意味とは知らなかったし理解できなかった。  
つまるところ、他人が**短い時間で理解できるコード**を書くことが最も重要である。  
これにはその人それぞれのレベルなどがあるが基本的にはこれ。  
大切なのはコードを短くするよりもその処理を理解するのにかかる時間を短くすることである。  
コード自体は長くなっても、理解するのに時間がかからないほうが結果として全体的なスケールで見ると短い時間である。

---

## 名前に情報を埋め込む ##
* 明確な単語を選ぶ
* 汎用的な名前を避ける
* 抽象的な名前よりも具体的な名前を使う
* 接尾辞や接頭辞を使って情報を追加する
* 名前の長さを決める
* 名前のフォーマットで情報を伝える  
例えば、「get」はあまり明確な単語ではない。  
つまり、これは何をどこから取ってくるのかローカルからなのかインターネットからなのかが明確でない。
インターネットから取ってくるなら「Fetch」や「Download」が的確であろう。  
他には、tmpやvalueなどの汎用的な名前を避ける。  
例えば
```
swap(int a, int b){
    int tmp = a;
    a = b;
    b = temp;
}
```
このようなコードでは「tmp」でも問題ない。  
しかし、次のようなコードでは問題がある。  
```
String tmp = user.name();
tmp += " " + user.phone_number();
tmp += " " + use.email();
        ・
        ・
        ・
template.set("user.info", tmp);
```
こういった場合は生存時間は短いがこの変数にとって大切なことは「一時的な保管」ではない。  
分かりやすくするには、「user_info」のような名前に変えると良い。  
また、「tmp_file」などではただのtmpではなくファイルオブジェクトとしてのtmp_fileになっている。  
つまり、ただのtmpだとどういったオブジェクトなのかがわからない。ファイルオブジェクトなのか、リソースオブジェクトなのか。  
「tmp」という名前は生存期間が短くて一時的な保管が最も大切な変数につけるとよい。  

----

## ループイテレータ ##
i・j・k・iter等の名前はインデックスやループイテレータでよく使われる名前だがこれらはその通りイテレータなので用いてもよい。  
しかし、イテレータが複数ある時はインデックスにもっと明確な名前を付けるとよい。  
なぜなら多次元ループになった場合分かりづらくなるからである。  

---

## 抽象的な名前よりも具体的なを使う ##
例えば、`ServerCanStart()`と名前の関数があったとする。  
任意のTCP/IPポートをサーバーがリッスンするできるかを確認する関数である。  
つまり`ServerCanStart()`という名前はちょっと抽象的である。  
具体的な名前にするならば`CanListenOnPort()`になるだと思う。  
関数そのままの意味を表す名前である。  

---

## 値の単位に ##
時間やバイト数などのように計測できるものであれば、変数名に単位を入れるとよい。  
例えば、ウェブページの読み込み時間を計測するJavaScriptのコードを見てみる。  
```
var start = (new Date()).getTime(); // ページの上部
var elapsed = (new Date()).getTime() - start;
document.writeln("読み込み時間:" + elapsed + "秒");
```
このコードは間違っていないように見える。  
しかしこれでは動かない。  
なぜなら、getTime()の戻り値の単位はmsだからである。  
このように、単位がわからないことがあり得るので名前には単位を付けたほうが良い。  

---

## 名前の長さ ##
いい名前を選ぶには「長い名前を避ける」ことが暗黙的に制約がある。  
長い名前は覚えにくいし画面を大きく占領してしまう。このように。  
`I_Have_a_Apple_and_Pineapple_and_Pen`のような長い変数名である。  
これによりコード行が無駄にながくなってしまう。  
しかし、「長い名前を避ける」ことだけに集中しすぎてもいけない。  
一つの単語だけになってしまうとそれはそれでだめ。  
それだと、どのようにして線引きすればいいのか。  
それは変数の使い方に代わってきたりガイドラインがあるのでそれに従うとよい。  

### スコープが小さければ短い名前でもよい ###  
スコープが小さければ多くの情報を詰め込む理由はない。  
すべての情報が見れるので変数の名前は短くてもよい。  
変数名にあまり情報が含まれていなくても近くにコードを理解する情報がそばにあれば理解できるのでよい。  

### 長い名前を入力するのは問題ではない ###
長い名前を付けるのを避けるのにはいくつか理由があるが入力しにくいというのは問題ではない。  
なぜならプログラミングので使うエディタでは名前の最初の文字を入力して単語補完のコマンドを実行すれば補完してくれるからである。